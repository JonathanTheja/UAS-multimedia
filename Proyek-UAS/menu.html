<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/main.css">

</head>

<body>
    <nav class="navbar navbar-expand-lg navcolor">
        <div class="container">
            <a class="navbar-brand d-flex" href="#">
                <img src="./assets/TeaPot (Logo).png" alt="Logo" width="50" height="50"
                    class="d-inline-block align-text-top">
                <span class="d-flex align-items-center ms-3">
                    <span class="tea logo">Tea</span>
                    <span class="pot logo">Pot</span>
                </span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse ms-md-4" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="./index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./news.html">News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="./menu.html"><span class="borderlink">Menu</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./aboutus.html">About Us</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="daftar-menu">
        <div class="container pt-1">
            <nav id="navbar-example2" class="navbar custom-menu px-3 mb-3 sticky-top rounded">
                <a class="navbar-brand" href="#">Kategori</a>
                <ul class="nav nav-pills">
                    <li class="nav-item">
                        <a class="nav-link" href="#scrollspyHeading1">Minuman</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#scrollspyHeading2">Cake</a>
                    </li>
                </ul>
            </nav>
            <div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-root-margin="0px 0px -40%"
                data-bs-smooth-scroll="true" class="scrollspy-example p-3 rounded-2 custom-menu" tabindex="0"
                id="navPaginationMinuman">
                <h4 id="scrollspyHeading1" class="d-flex justify-content-center">Minuman</h4>
                <select class="form-select form-select-sm" aria-label=".form-select-sm example"
                    onchange="updateMinuman(this.value)">
                    <option selected class="text-center" value="semua">Semua</option>
                    <option value="teh" class="text-center">Teh</option>
                    <option value="kopi" class="text-center">Kopi</option>
                </select>
                <div class="semua-minuman row d-flex justify-content-center" id="minuman">
                    <!-- <div class="card card-color m-3" style="width: 15rem;">
                        <img src="./assets/Teh Melati.jpg" class="card-img-top img-product" alt="...">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <p class="card-title namaproduct">Teh Melati</p>
                            <p class="card-text">Rp 15.000</p>
                            <p class="card-text dibeli">30 Kali Dibeli</p>
                            <a href="#" class="btn btn-primary">Beli</a>
                        </div>
                    </div> -->
                </div>
                <div id="paginationMinuman"></div>

                <div id="navPaginationKue"></div>
                <h4 id="scrollspyHeading2">Cake</h4>
                <div class="semua-minuman row d-flex justify-content-center" id="kue">
                    <!-- <div class="card card-color m-3" style="width: 15rem;">
                        <img src="./assets/Teh Melati.jpg" class="card-img-top img-product" alt="...">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <p class="card-title namaproduct">Teh Melati</p>
                            <p class="card-text">Rp 15.000</p>
                            <p class="card-text dibeli">30 Kali Dibeli</p>
                            <a href="#" class="btn btn-primary">Beli</a>
                        </div>
                    </div> -->
                </div>
                <div id="paginationKue"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script src="./swiper.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>
</body>
<script src="minuman.js"></script>
<script src="kue.js"></script>
<script src="function.js"></script>
<script>
    let contentPage = 12;
    let selectedMinuman;

    function cetakMinuman(page) {
        document.getElementById('minuman').innerHTML = '';
        selectedMinuman.forEach((m, index) => {
            if (index >= page * contentPage && index < (page + 1) * contentPage) {
                document.getElementById('minuman').innerHTML += `
                <div class="card card-color m-3" style="width: 17rem;">
                    <img src="./assets/${m.image ? m.image : ""}" class="card-img-center img-product" alt="...">
                    <div class="card-body d-flex flex-column justify-content-end align-items-center">
                        <p class="card-title namaproduct text-center">${m.nama}</p>
                        <p class="card-text">${formatRupiah(m.harga)}</p>
                        <p class="card-text dibeli">30 Kali Dibeli</p>
                        <div class='d-flex justify-content-evenly align-items-center w-100'>
                            <a href="#" class="btn btn-success">Beli</a>
                            <a href='./detail.html#minuman${index}' class='btn btn-warning text-light'>Detail</a>
                        </div>
                    </div>
                </div>
                `;
            }
        });
    }

    function cetakKue(page) {
        document.getElementById('kue').innerHTML = '';
        kue.forEach((k, index) => {
            if (index >= page * contentPage && index < (page + 1) * contentPage) {
                document.getElementById('kue').innerHTML += `
                <div class="card card-color m-3" style="width: 17rem;">
                    <img src="./assets/${k.image ? k.image : ""}" class="card-img-center img-product" alt="...">
                    <div class="card-body d-flex flex-column justify-content-end align-items-center">
                        <p class="card-title namaproduct text-center">${k.nama}</p>
                        <p class="card-text">${formatRupiah(k.harga)}</p>
                        <p class="card-text dibeli">30 Kali Dibeli</p>
                        <div class='d-flex justify-content-evenly align-items-center w-100'>
                            <a href="#" class="btn btn-success">Beli</a>
                            <a href='./detail.html#minuman${index}' class='btn btn-warning text-light'>Detail</a>
                        </div>
                    </div>
                </div>
                `;
            }
        });
    }

    function changePageMinuman(page) {
        const pageItems = document.querySelectorAll('.pagination .page-item.minuman');
        pageItems.forEach((item) => {
            if (item.innerText == page + 1) {
                item.classList.add('active');
            } else {
                item.classList.remove('active');
            }
        });
        cetakMinuman(page);
    }

    function changePageKue(page) {
        const pageItems = document.querySelectorAll('.pagination .page-item.kue');
        pageItems.forEach((item) => {
            if (item.innerText == page + 1) {
                item.classList.add('active');
            } else {
                item.classList.remove('active');
            }
        });
        cetakKue(page);
    }

    function cetakPageMinuman(isFirst) {
        let paginationHTML = `
        <div class='d-flex justify-content-center align-items-center'>
            <nav aria-label="Page navigation example">
                <ul class="pagination">
        `;

        for (let i = 0; i < parseInt(Math.ceil(selectedMinuman.length / contentPage)); i++) {
            if (isFirst && i == 0) {
                paginationHTML += `
                <li class="page-item minuman active" onclick='changePageMinuman(${i})'><a class="page-link" href='#navPaginationMinuman'>${i+1}</a></li>
                `;
            } else {
                paginationHTML += `
                <li class="page-item minuman" onclick='changePageMinuman(${i})'><a class="page-link" href='#navPaginationMinuman'>${i+1}</a></li>
                `;
            }
        }
        paginationHTML += `
                </ul>
            </nav>
        </div>
        `;

        document.getElementById('paginationMinuman').innerHTML += paginationHTML;
    }

    function updateMinuman(jenis) {
        if (jenis == 'semua') {
            selectedMinuman = minuman;
            cetakMinuman(0);
        } else if (jenis == 'teh') {
            selectedMinuman = minuman.filter(m => m.jenis == 'teh');
            cetakMinuman(0);
        } else {
            selectedMinuman = minuman.filter(m => m.jenis == 'kopi');
            cetakMinuman(0);
        }
        document.getElementById('paginationMinuman').innerHTML = '';
        cetakPageMinuman(true);
    }
    updateMinuman('semua');


    function cetakPageKue(isFirst) {
        let paginationHTML = `
        <div class='d-flex justify-content-center align-items-center'>
            <nav aria-label="Page navigation example">
                <ul class="pagination">
        `;

        for (let i = 0; i < parseInt(Math.ceil(kue.length / contentPage)); i++) {
            if (isFirst && i == 0) {
                paginationHTML += `
                <li class="page-item kue active" onclick='changePageKue(${i})'><a class="page-link" href='#navPaginationKue'>${i+1}</a></li>
                `;
            } else {
                paginationHTML += `
                <li class="page-item kue" onclick='changePageKue(${i})'><a class="page-link" href='#navPaginationKue'>${i+1}</a></li>
                `;
            }
        }
        paginationHTML += `
                </ul>
            </nav>
        </div>
        `;

        document.getElementById('paginationKue').innerHTML += paginationHTML;
    }
    cetakPageKue(true);
    cetakKue(0);
</script>

</html>